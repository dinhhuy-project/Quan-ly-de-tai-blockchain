# Blockchain Explorer - HÆ°á»›ng Dáº«n Sá»­ Dá»¥ng

## ğŸ“‹ Tá»•ng Quan

Blockchain Explorer lÃ  cÃ´ng cá»¥ trá»±c quan hÃ³a Ä‘Æ°á»£c tÃ­ch há»£p sáºµn trong há»‡ thá»‘ng quáº£n lÃ½ Ä‘á» tÃ i blockchain, cho phÃ©p ngÆ°á»i dÃ¹ng xem vÃ  theo dÃµi:

- **Blocks (Khá»‘i)**: Táº¥t cáº£ cÃ¡c khá»‘i trong blockchain
- **Transactions (Giao dá»‹ch)**: Danh sÃ¡ch cÃ¡c giao dá»‹ch Ä‘Ã£ xÃ¡c nháº­n
- **Peers (NÃºt máº¡ng)**: CÃ¡c nÃºt máº¡ng vÃ  tráº¡ng thÃ¡i cá»§a chÃºng
- **Network Statistics**: Thá»‘ng kÃª máº¡ng lÆ°á»›i

## ğŸ¯ TÃ­nh NÄƒng ChÃ­nh

### 1. **Network Statistics (Thá»‘ng KÃª Máº¡ng)**
- Hiá»ƒn thá»‹ thÃ´ng tin tá»•ng quÃ¡t vá» máº¡ng blockchain
- Tá»•ng sá»‘ block hiá»‡n táº¡i
- Tá»•ng sá»‘ peer
- Tá»•ng hash cá»§a block má»›i nháº¥t
- Cáº­p nháº­t tá»± Ä‘á»™ng má»—i 5 giÃ¢y

### 2. **Blocks (Khá»‘i)**
Xem danh sÃ¡ch táº¥t cáº£ cÃ¡c khá»‘i:
- **Block Number**: Sá»‘ thá»© tá»± khá»‘i
- **Hash**: MÃ£ bÄƒm duy nháº¥t cá»§a khá»‘i
- **Previous Hash**: MÃ£ bÄƒm cá»§a khá»‘i trÆ°á»›c Ä‘Ã³
- **Transactions**: Sá»‘ lÆ°á»£ng giao dá»‹ch trong khá»‘i
- Nháº¥p vÃ o tá»«ng khá»‘i Ä‘á»ƒ xem chi tiáº¿t

### 3. **Transactions (Giao Dá»‹ch)**
Theo dÃµi táº¥t cáº£ giao dá»‹ch:
- **Transaction ID**: MÃ£ Ä‘á»‹nh danh duy nháº¥t
- **Block**: Khá»‘i chá»©a giao dá»‹ch
- **Type**: Loáº¡i giao dá»‹ch
- **Time**: Thá»i gian giao dá»‹ch
- **Status**: Tráº¡ng thÃ¡i (Valid/Invalid)
- Nháº¥p Ä‘á»ƒ xem chi tiáº¿t chi tiáº¿t giao dá»‹ch

### 4. **Network Peers (NÃºt Máº¡ng)**
GiÃ¡m sÃ¡t cÃ¡c nÃºt máº¡ng:
- **Peer ID**: MÃ£ Ä‘á»‹nh danh nÃºt
- **Name**: TÃªn nÃºt máº¡ng
- **URL**: Äá»‹a chá»‰ cá»§a nÃºt
- **Organization**: Tá»• chá»©c sá»Ÿ há»¯u nÃºt
- **Status**: Tráº¡ng thÃ¡i káº¿t ná»‘i (Active/Inactive)
- Nháº¥p Ä‘á»ƒ xem chi tiáº¿t nÃºt

## ğŸ“± Giao Diá»‡n

### Tab Navigation (Thanh Äiá»u HÆ°á»›ng)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Overview | Blocks | Transactions | Peers â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### **Overview Tab (Tab Tá»•ng Quan)**
- Hiá»ƒn thá»‹ thá»‘ng kÃª máº¡ng
- ThÃ´ng tin vá» cÃ´ng cá»¥
- NÃºt Ä‘iá»u hÆ°á»›ng nhanh

#### **Blocks Tab (Tab Khá»‘i)**
- Báº£ng danh sÃ¡ch táº¥t cáº£ khá»‘i
- Cáº­p nháº­t tá»± Ä‘á»™ng má»—i 10 giÃ¢y
- Nháº¥p vÃ o dÃ²ng Ä‘á»ƒ xem chi tiáº¿t

#### **Transactions Tab (Tab Giao Dá»‹ch)**
- Báº£ng danh sÃ¡ch giao dá»‹ch gáº§n Ä‘Ã¢y
- Cáº­p nháº­t tá»± Ä‘á»™ng má»—i 10 giÃ¢y
- ThÃ´ng tin chi tiáº¿t cho tá»«ng giao dá»‹ch

#### **Peers Tab (Tab NÃºt)**
- Hiá»ƒn thá»‹ dáº¡ng lÆ°á»›i cÃ¡c nÃºt máº¡ng
- ThÃ´ng tin tráº¡ng thÃ¡i káº¿t ná»‘i
- Cáº­p nháº­t tá»± Ä‘á»™ng má»—i 15 giÃ¢y

## ğŸ” Chi Tiáº¿t ThÃ´ng Tin

### Block Details Modal (Cá»­a Sá»• Chi Tiáº¿t Khá»‘i)

Khi nháº¥p vÃ o má»™t khá»‘i, hiá»ƒn thá»‹:

```json
{
  "blockNumber": 1,
  "hash": "abc123...",
  "previousHash": "def456...",
  "dataHash": "ghi789...",
  "timestamp": "2024-11-15T10:30:00Z",
  "txCount": 5
}
```

### Transaction Details Modal (Cá»­a Sá»• Chi Tiáº¿t Giao Dá»‹ch)

```json
{
  "txId": "tx_001",
  "blockNumber": 1,
  "type": "endorser_transaction",
  "timestamp": "2024-11-15T10:30:00Z",
  "valid": true,
  "validationCode": 0
}
```

### Peer Details Modal (Cá»­a Sá»• Chi Tiáº¿t NÃºt)

```json
{
  "peerId": "peer0",
  "name": "peer0.org1.example.com",
  "url": "grpcs://localhost:7051",
  "status": "Active",
  "mspId": "ORG1",
  "ledgerHeight": 10,
  "currentBlockHash": "abc123..."
}
```

## ğŸ”„ Tá»± Äá»™ng Cáº­p Nháº­t

Explorer tá»± Ä‘á»™ng cáº­p nháº­t dá»¯ liá»‡u:

| ThÃ nh Pháº§n | Khoáº£ng Cáº­p Nháº­t |
|-----------|-----------------|
| Network Stats | 5 giÃ¢y |
| Blocks | 10 giÃ¢y |
| Transactions | 10 giÃ¢y |
| Peers | 15 giÃ¢y |

Báº¡n cÅ©ng cÃ³ thá»ƒ nháº¥p nÃºt **Refresh** (biá»ƒu tÆ°á»£ng tuáº§n hoÃ n) Ä‘á»ƒ cáº­p nháº­t thá»§ cÃ´ng.

## ğŸ› ï¸ CÃ´ng Nghá»‡ Sá»­ Dá»¥ng

### Backend (Node.js/Express)

**API Endpoints:**

```
GET  /api/explorer/blocks              - Láº¥y danh sÃ¡ch khá»‘i
GET  /api/explorer/blocks/:blockNumber - Chi tiáº¿t khá»‘i
GET  /api/explorer/transactions        - Láº¥y danh sÃ¡ch giao dá»‹ch
GET  /api/explorer/transactions/:txId  - Chi tiáº¿t giao dá»‹ch
GET  /api/explorer/peers               - Láº¥y danh sÃ¡ch nÃºt
GET  /api/explorer/peers/:peerId       - Chi tiáº¿t nÃºt
GET  /api/explorer/stats               - Thá»‘ng kÃª máº¡ng
```

**Headers:**

```
x-org: org1 (hoáº·c org2)
```

### Frontend (React + TypeScript)

**Components:**

- `NetworkStatsCard.tsx` - Hiá»ƒn thá»‹ thá»‘ng kÃª máº¡ng
- `BlocksTable.tsx` - Danh sÃ¡ch khá»‘i
- `TransactionsTable.tsx` - Danh sÃ¡ch giao dá»‹ch
- `PeersList.tsx` - Danh sÃ¡ch nÃºt
- `BlockDetailModal.tsx` - Chi tiáº¿t khá»‘i
- `TransactionDetailModal.tsx` - Chi tiáº¿t giao dá»‹ch
- `PeerDetailModal.tsx` - Chi tiáº¿t nÃºt

**Services:**

- `explorerService.ts` - Gá»i API explorer

## ğŸ“Š VÃ­ Dá»¥ Sá»­ Dá»¥ng

### 1. Xem Danh SÃ¡ch Khá»‘i

```bash
# Request
curl -H "x-org: org1" http://localhost:3000/api/explorer/blocks

# Response
{
  "success": true,
  "totalBlocks": 10,
  "currentHeight": 10,
  "blocks": [
    {
      "blockNumber": 9,
      "hash": "abc123...",
      "previousHash": "def456...",
      "txCount": 3,
      "dataHash": "ghi789..."
    },
    ...
  ]
}
```

### 2. Xem Chi Tiáº¿t Khá»‘i

```bash
# Request
curl -H "x-org: org1" http://localhost:3000/api/explorer/blocks/5

# Response
{
  "success": true,
  "block": {
    "blockNumber": 5,
    "hash": "abc123...",
    "previousHash": "def456...",
    "timestamp": "2024-11-15T10:30:00Z",
    "txCount": 2,
    "transactions": [
      {
        "index": 0,
        "txId": "tx_001",
        "type": "ENDORSER_TRANSACTION",
        "timestamp": "2024-11-15T10:30:00Z"
      }
    ]
  }
}
```

### 3. Xem Danh SÃ¡ch NÃºt

```bash
# Request
curl -H "x-org: org1" http://localhost:3000/api/explorer/peers

# Response
{
  "success": true,
  "totalPeers": 2,
  "peers": [
    {
      "peerId": "peer0",
      "name": "peer0.org1.example.com",
      "url": "grpcs://localhost:7051",
      "status": "Active",
      "mspId": "ORG1"
    }
  ]
}
```

## ğŸš€ Khá»Ÿi Äá»™ng Explorer

### 1. Khá»Ÿi Äá»™ng Backend Server

```bash
cd fabric-samples/chaincode/topic/server
npm install
npm run dev
```

Server sáº½ cháº¡y táº¡i `http://localhost:3000`

### 2. Khá»Ÿi Äá»™ng Frontend Client

```bash
cd fabric-samples/chaincode/topic/client
npm install
npm run dev
```

Client sáº½ cháº¡y táº¡i `http://localhost:5173`

### 3. Truy Cáº­p Explorer

1. ÄÄƒng nháº­p vÃ o á»©ng dá»¥ng
2. Nháº¥p vÃ o biá»ƒu tÆ°á»£ng **Activity** (ğŸ“Š) trong header
3. Hoáº·c Ä‘iá»u hÆ°á»›ng Ä‘áº¿n `/explorer`

## ğŸ” Báº£o Máº­t

- Explorer yÃªu cáº§u xÃ¡c thá»±c (Protected Route)
- Chá»‰ ngÆ°á»i dÃ¹ng Ä‘Ã£ Ä‘Äƒng nháº­p má»›i cÃ³ thá»ƒ truy cáº­p
- Dá»¯ liá»‡u Ä‘Æ°á»£c truy xuáº¥t thÃ´ng qua API an toÃ n
- Organization ID (x-org) Ä‘Æ°á»£c gá»­i cÃ¹ng má»—i request

## ğŸ“ˆ Hiá»‡u NÄƒng

- **Lazy Loading**: Dá»¯ liá»‡u Ä‘Æ°á»£c táº£i khi cáº§n
- **Auto-refresh**: Cáº­p nháº­t dá»¯ liá»‡u Ä‘á»‹nh ká»³
- **Pagination**: Hiá»ƒn thá»‹ 50 khá»‘i gáº§n nháº¥t
- **Caching**: Tá»‘i Æ°u hÃ³a API calls

## â“ CÃ¢u Há»i ThÆ°á»ng Gáº·p

### Q: Táº¡i sao explorer khÃ´ng hiá»ƒn thá»‹ dá»¯ liá»‡u?

**A:** Kiá»ƒm tra:
1. Backend server Ä‘ang cháº¡y
2. Báº¡n Ä‘Ã£ Ä‘Äƒng nháº­p
3. Header `x-org` Ä‘Æ°á»£c gá»­i chÃ­nh xÃ¡c
4. Fabric network Ä‘ang cháº¡y

### Q: Dá»¯ liá»‡u cáº­p nháº­t bao lÃ¢u?

**A:** 
- Network Stats: 5 giÃ¢y
- Blocks/Transactions: 10 giÃ¢y
- Peers: 15 giÃ¢y

### Q: CÃ³ thá»ƒ cáº­p nháº­t thá»§ cÃ´ng khÃ´ng?

**A:** CÃ³, nháº¥p nÃºt **Refresh** (ğŸ”„) trÃªn má»—i tháº».

### Q: Explorer cÃ³ há»— trá»£ nhiá»u organization khÃ´ng?

**A:** CÃ³, thay Ä‘á»•i header `x-org` trong API calls hoáº·c sá»­a trong environment variables.

## ğŸ“ CÃ¡c Giá»›i Háº¡n

- Chá»‰ hiá»ƒn thá»‹ 50 khá»‘i gáº§n nháº¥t
- Dá»¯ liá»‡u lá»‹ch sá»­ Ä‘Æ°á»£c lÆ°u trÃªn blockchain
- KhÃ´ng thá»ƒ chá»‰nh sá»­a dá»¯ liá»‡u blockchain (immutable)
- Thá»i gian response phá»¥ thuá»™c vÃ o hiá»‡u nÄƒng network

## ğŸ”§ Troubleshooting

### Lá»—i: "Failed to connect to channel or peer"

```javascript
// Kiá»ƒm tra fabricClient.js
// Äáº£m báº£o connection config chÃ­nh xÃ¡c
```

### Lá»—i: "Cannot find module"

```bash
# Reinstall dependencies
npm install
```

### Dá»¯ liá»‡u khÃ´ng cáº­p nháº­t

```javascript
// Kiá»ƒm tra trong DevTools Console
// Xem cÃ³ error tá»« API khÃ´ng
```

## ğŸ“š TÃ i Liá»‡u LiÃªn Quan

- [Hyperledger Fabric Documentation](https://hyperledger-fabric.readthedocs.io/)
- [Fabric Network API](https://hyperledger.github.io/fabric-sdk-node/)
- [React Documentation](https://react.dev/)

## ğŸ¤ Há»— Trá»£

Náº¿u gáº·p váº¥n Ä‘á», vui lÃ²ng:
1. Kiá»ƒm tra logs trong DevTools (F12)
2. Kiá»ƒm tra server logs
3. Äáº£m báº£o táº¥t cáº£ services Ä‘ang cháº¡y

---

**Version**: 1.0.0  
**Last Updated**: November 15, 2024
